---
import MainLayout from "../layouts/MainLayout.astro";
import FlashcardsPage from "../components/flashcards/FlashcardsPage";

// Force server-side rendering
export const prerender = false;

// Zabezpieczenie dostępu - tylko dla zalogowanych
if (!Astro.locals.user) {
  return Astro.redirect("/auth/login");
}

// Get user ID
const userId = Astro.locals.user.id;
---

<MainLayout title="Zarządzanie fiszkami | 10xCards">
  <div class="bg-gray-50 min-h-screen">
    <FlashcardsPage client:load userId={userId} />
  </div>
</MainLayout>
